(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,a){e.exports=a(69)},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},65:function(e,t,a){e.exports=a.p+"static/media/tomato.d2e94b4c.svg"},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),l=a.n(c),o=(a(50),a(51),a(7)),u=a.n(o),s=a(8),i=a(3);function m(e){var t=new Date(e);return t.setUTCDate(t.getUTCDate()-t.getUTCDay()),t.setUTCHours(0,0,0,0),t}function d(e){var t=function(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()]}(e),a=Object(i.a)(t,3),r=a[0],n=a[1],c=a[2],l=new Date;return l.setUTCFullYear(r),l.setUTCMonth(n-1),l.setUTCDate(c),l.setUTCHours(0,0,0,0),l}function g(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(u.a.mark((function e(t){var a,r,n,c,l,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,r={credentials:"include"},n=Object.assign(r,a),e.next=6,fetch(t,n);case 6:return c=e.sent,e.next=9,c.json();case 9:return l=e.sent,e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function p(e){return e.getMonth()+1}var b=function(e,t){var a=Object(r.useState)(null),n=Object(i.a)(a,2),c=n[0],l=n[1],o=Object(r.useState)(!0),m=Object(i.a)(o,2),d=m[0],g=m[1];return Object(r.useEffect)((function(){var a=new AbortController,r={credentials:"include",signal:a.signal},n=Object.assign(r,t);return function(){var t=Object(s.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,n);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,l(r),g(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}()(e),function(){console.log("Aborting!"),a.abort()}}),[e,t]),{data:c,loading:d}},v=Object(r.createContext)(),E=function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1],o=b("/api/loggedIn"),u=o.data,s=o.loading;return Object(r.useEffect)((function(){!s&&u.loggedIn&&l(!0)}),[u,s]),n.a.createElement(v.Provider,{value:{loggedIn:c,setLoggedIn:l}},e.children)},h=a(42),T=a.n(h),y=a(43),O=a.n(y),j=a(14),C=a(86),k=a(29),w=(a(55),a(56),a(84)),S=a(85),x=a(82),D=a(87);var N=function(e){var t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=n.a.createElement(S.a.Control,{type:"text",value:c,onChange:function(e){var t;(""===(t=e.target.value)||/^[1-9]\d*$/.test(t))&&l(e.target.value)},placeholder:e.placeholder});return[Number.parseInt(c),o]};var I=function(e){var t=e.targetId,a=e.setTargets,c=e.setCurrentTarget,l=e.inputDate,o=N({label:"Add Time (min)",name:"add-amount",placeholder:"Add/Subtract Time (min)"}),m=Object(i.a)(o,2),d=m[0],f=m[1],p=function(){var e=Object(s.a)(u.a.mark((function e(r){var n,o,s,i,m,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=""+"/api/days/".concat(t),o=60*d,"sub-day-btn"===r.target.id&&(o*=-1,console.log("Subtract")),s=JSON.stringify({inputDate:l.getTime(),workTime:o,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),i={method:"POST",headers:{"Content-Type":"application/json"},body:s},e.next=7,g(n,i);case 7:m=e.sent,console.log("DayEditModal response :>> ",m),m.success&&(f=m.target,a((function(e){var t=f._id;return e.map((function(e){return t===e._id?f:e}))})),c(f));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(r.useState)(!1),v=Object(i.a)(b,2),E=v[0],h=v[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{padding:"0",height:"100%"},onClick:function(){h(!0)}},e.children),n.a.createElement(w.a,{show:E,onHide:function(){return h(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Change Time: ",l.toLocaleDateString())),n.a.createElement(w.a.Body,null,n.a.createElement("h6",null,"Missed some time? Edit Your Time Here"),n.a.createElement(S.a,null,n.a.createElement(x.a,null,f,n.a.createElement(x.a.Append,null,n.a.createElement(D.a,{style:{width:"50%"},id:"add-day-btn",variant:"outline-secondary",onClick:p},"+"),n.a.createElement(D.a,{style:{width:"50%"},id:"sub-day-btn",variant:"outline-secondary",onClick:p},"-")))))))},M=function(e){var t=e.currentTarget,a=e.setCurrentTarget,c=e.setTargets,l=e.workDay,o=e.day,u=e.inMonth,s=Object(r.useContext)(v).loggedIn,i=Object(r.useRef)(null),m=Object(r.useRef)(null),d={};u||(d.color="silver");return Object(r.useEffect)((function(){if(l&&s){var e=i.current.clientHeight,t=(1.4/28800*l.workTime+.4)*e,a=Math.floor(t/2);t+="px",a=-1*a+"px",m.current.style.height=t,m.current.style.width=t,m.current.style.bottom=a,m.current.style.left=a}})),n.a.createElement("td",{className:"day-cell",ref:i,style:Object(k.a)(Object(k.a)({},d),{},{position:"relative",overflow:"hidden"})},n.a.createElement(I,{setTargets:c,targetId:t?t._id:null,setCurrentTarget:a,inputDate:o},n.a.createElement("div",{className:"day",style:{height:"100%",width:"100%"}},n.a.createElement("div",{className:"day-date-header"},o.getDate()),l&&s?n.a.createElement("div",null,function(e){var t=function(e){return Math.floor(e/60)}(e);if(t<60)return"".concat(t," min");var a=Math.floor(t/60),r=t%60;return"".concat(a," hr ").concat(r," min")}(l.workTime)):null)),l&&s?n.a.createElement("div",{className:"pulsing-circle",ref:m,style:{height:0,width:0,bottom:0,left:0}}):null)};a(58);var F=function(e){var t=e.setTargets,a=e.currentTarget,c=e.setCurrentTarget,l=e.workWeek,o=e.sunday,u=e.viewedMonth,s=e.weeksToDisplay,i=e.isCompleted,m=Object(r.useContext)(v).loggedIn,d={height:100/s+"%"};i&&m&&(d.borderLeft="5px solid rgba(226, 194, 255, 1)",d.backgroundColor="#A1F7E9",d.backgroundColor="rgba(161, 247, 233, 0.5)",d.zIndex="10");for(var g=[],f=new Date(o),b=0;b<7;b++)g.push(new Date(f)),f.setDate(f.getDate()+1);var E=g.map((function(e){var r={inMonth:!1,workDay:null};if(p(e)===u&&(r.inMonth=!0),l)for(var o=l.days.map((function(e){return new Date(e.date)})),s=0;s<o.length;s++){var i=o[s],m=i.getUTCFullYear()===e.getFullYear(),d=i.getUTCMonth()===e.getMonth(),g=i.getUTCDate()===e.getDate();if(m&&d&&g){r.workDay=l.days[s];break}}return n.a.createElement(M,Object.assign({setTargets:t,currentTarget:a,setCurrentTarget:c,day:e,key:Object(C.a)()},r))}));return n.a.createElement("tr",{className:"week",style:d},E)},L=(a(59),function(e){var t=e.setTargets,a=e.currentTarget,c=e.setCurrentTarget,l=e.date,o=e.viewedMonth,u=Object(r.useState)([]),s=Object(i.a)(u,2),g=s[0],f=s[1];Object(r.useEffect)((function(){if(a){var e=a.weeks,t=P(l),r=function(e,t,a){for(var r=0,n=e.length;r<n;){var c=r+n>>1;a(e[c],t)?r=c+1:n=c}return r}(e,t=d(t),(function(e,t){return m(e.days[0].date)<t}));if(r>=e.length)return void f([]);var n=[],c=r,o=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(o.setDate(o.getDate()+42),0!==(o=m(d(o))).getUTCDay())throw Error("Critical Error: lastSundayNormalized is not a Sunday");for(;c<e.length;){var u=m(e[c].days[0].date);if(!(u>=t)||!(u<=o))break;n.push(e[c]),c++}if(n.length>6)throw Error("Critical Error: More work weeks are considered are view than is allowed.");f(n)}}),[a,l]);for(var p=[],b=P(l),v=0;v<6;v++){p.push(b);var E=new Date(b);E.setDate(E.getDate()+7),b=E}for(var h=[],T=0,y=0;y<p.length;y++){var O=p[y],j={key:Object(C.a)(),sunday:O,viewedMonth:o,weeksToDisplay:6,setTargets:t,currentTarget:a,setCurrentTarget:c};if(T<g.length){var k=g[T],w=m(new Date(k.days[0].date)),S=d(O);if(w.getTime()===S.getTime()){var x=60*k.weeklyTargetTime*60,D=!1;k.days.reduce((function(e,t){return e+t.workTime}),0)>x&&(D=!0),h.push(n.a.createElement(F,Object.assign({workWeek:k},j,{isCompleted:D}))),T++}else h.push(n.a.createElement(F,j))}else h.push(n.a.createElement(F,j))}return n.a.createElement("table",{className:"calendar"},n.a.createElement("thead",{className:"calendar-header"},n.a.createElement("tr",{className:"day-names"},n.a.createElement("th",{className:"day-name"},"Sun"),n.a.createElement("th",{className:"day-name"},"Mon"),n.a.createElement("th",{className:"day-name"},"Tue"),n.a.createElement("th",{className:"day-name"},"Wed"),n.a.createElement("th",{className:"day-name"},"Thu"),n.a.createElement("th",{className:"day-name"},"Fri"),n.a.createElement("th",{className:"day-name"},"Sat"))),n.a.createElement("tbody",{className:"weeks"},h))});function P(e){var t=new Date(e);return t.setDate(t.getDate()-t.getDay()),t.setHours(0,0,0,0),t}a(60);var _=a(38),U=a.n(_),H=(a(61),a(83)),R=function(e){var t=e.setTargets,a=e.currentTarget,c=e.setCurrentTarget,l=e.timer,o=(e.selectedTimerTargetId,{display:"none"});"Stopwatch"===l&&(o={display:"block"});var m=Object(r.useState)(0),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(r.useState)(!1),v=Object(i.a)(b,2),E=v[0],h=v[1],T=function(){p((function(e){return e+1}))};Object(r.useEffect)((function(){var e;return E&&(e=setInterval(T,100)),function(){clearInterval(e)}}),[E]);var y=function(){var e=Object(s.a)(u.a.mark((function e(){var r,n,l,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}return r="/api/days/"+a._id,n=Math.floor(f/10),l=JSON.stringify({inputDate:Date.now(),workTime:n,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),o={method:"POST",headers:{"Content-Type":"application/json"},body:l},e.next=7,g(r,o);case 7:(s=e.sent).success?(i=s.target,t((function(e){return e.map((function(e){return e._id===i._id?i:e}))})),c(i)):alert("The server was unable to process your request."),e.next=12;break;case 11:alert("A Target must be selected from the dropdown.");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{style:o},n.a.createElement("div",null,"Time: ",function(){var e=Math.floor(f/10),t=Math.floor(e%60),a=e/60,r=Math.floor(a%60),n=Math.floor(a/60);return 0===n?(t<10&&(t="0"+t),"".concat(r,":").concat(t)):(t<10&&(t="0"+t),r<10&&(r="0"+r),"".concat(n,":").concat(r,":").concat(t))}()),n.a.createElement("div",null,n.a.createElement(H.a,null,n.a.createElement(D.a,{variant:"secondary",onClick:function(){h(!E)}},E?"Stop":"Start"),n.a.createElement(D.a,{variant:"secondary",onClick:function(){h(!1),p(0)}},"Reset"),n.a.createElement(D.a,{variant:"primary",onClick:y},"Log"))))},A=a(36),B=a.n(A);var G=function(e){var t=e.setStartingWorkCentiseconds,a=e.setStartingRestCentiseconds,c=N({placeholder:"i.e. 25"}),l=Object(i.a)(c,2),o=l[0],u=l[1],s=N({placeholder:"i.e. 5"}),m=Object(i.a)(s,2),d=m[0],g=m[1],f=Object(r.useState)(!1),p=Object(i.a)(f,2),b=p[0],v=p[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,null),n.a.createElement(B.a,{"data-tip":"Customize Intervals","data-place":"right",className:"icon",onClick:function(){v(!0)}}),n.a.createElement(w.a,{show:b,onHide:function(){return v(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Customize Pomodoro Intervals")),n.a.createElement(w.a.Body,null,n.a.createElement(S.a,{className:"custom-pomodoro-form"},n.a.createElement(S.a.Group,null,n.a.createElement(S.a.Label,null,"Work Time (minutes)"),u),n.a.createElement(S.a.Group,null,n.a.createElement(S.a.Label,null,"Rest Time (minutes)"),g))),n.a.createElement(w.a.Footer,null,n.a.createElement(D.a,{onClick:function(){var e;e=""===d||d<=0||d>1440?3e3:60*d*10,t(""===o||o<=0||o>1440?15e3:60*o*10),a(e)}},"Confirm"))))},J=function(e){var t=e.setTargets,a=e.currentTarget,c=e.setCurrentTarget,l=e.timer,o=e.selectedTimerTargetId,m={display:"none"};"Pomodoro"===l&&(m={display:"block"});var d=Object(r.useState)(15e3),f=Object(i.a)(d,2),p=f[0],b=f[1],v=Object(r.useState)(3e3),E=Object(i.a)(v,2),h=E[0],T=E[1],y=Object(r.useState)(p),O=Object(i.a)(y,2),j=O[0],C=O[1],k=Object(r.useState)(!1),w=Object(i.a)(k,2),S=w[0],x=w[1],N=Object(r.useState)(!0),I=Object(i.a)(N,2),M=I[0],F=I[1],L=function(){C((function(e){return e-1}))};Object(r.useEffect)((function(){0===j&&(M?(function(){var e=Object(s.a)(u.a.mark((function e(){var a,r,n,l,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=9;break}return a="/api/days/"+o,r=Math.floor(p/10),n=JSON.stringify({inputDate:Date.now(),workTime:r,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),l={method:"POST",headers:{"Content-Type":"application/json"},body:n},e.next=7,g(a,l);case 7:(s=e.sent).success?(i=s.target,t((function(e){return e.map((function(e){return e._id===i._id?i:e}))})),c(i)):alert("The server was unable to process your request.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),C(h)):C(p),F(!M),x(!1))}),[j,M,h,p,t,a,c,o]),Object(r.useEffect)((function(){var e;return S&&(e=setInterval(L,100)),function(){clearInterval(e)}}),[S]);var P=Object(r.useCallback)((function(){x(!1),F(!0),C(p)}),[p]);return Object(r.useEffect)((function(){P()}),[h,p,P]),n.a.createElement("div",{style:m},n.a.createElement("div",null,n.a.createElement("div",null,"Mode: ",M?"Work \ud83c\udf5e":"Rest \u2615"),n.a.createElement("div",null,function(){var e=Math.floor(j/10),t=Math.floor(e%60),a=e/60,r=Math.floor(a%60),n=Math.floor(a/60);return 0===n?(t<10&&(t="0"+t),"".concat(r,":").concat(t)):(t<10&&(t="0"+t),r<10&&(r="0"+r),"".concat(n,":").concat(r,":").concat(t))}())),n.a.createElement("div",null,n.a.createElement(H.a,null,n.a.createElement(D.a,{onClick:function(){x((function(e){return!e}))},value:S?"Stop":"Start"},S?"Stop":"Start"),n.a.createElement(D.a,{onClick:P},"Reset"))),n.a.createElement(G,{setStartingWorkCentiseconds:b,setStartingRestCentiseconds:T}))},W=function(e){var t=e.targets,a=e.selectedTimerTargetId,c=e.setSelectedTimerTargetId,l=Object(r.useContext)(v).loggedIn,o=Object(r.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1];Object(r.useEffect)((function(){if(t){var e=t.map((function(e){return n.a.createElement("option",{key:Object(C.a)(),value:e._id},e.title)}));m(e)}}),[t]);return t?n.a.createElement(S.a.Group,{controlId:"target-timer-select"},n.a.createElement(S.a.Control,{as:"select",onChange:function(e){console.log("Change"),c(e.target.value)},value:a},s)):l?n.a.createElement("div",null,"Loading..."):""},q=function(e,t){switch(t.type){case"Pomodoro":return"Pomodoro";case"Stopwatch":return"Stopwatch";default:throw new Error("Unrecognized Timer Type")}},Y=function(e){var t=e.targets,c=e.setTargets,l=e.currentTarget,o=e.setCurrentTarget,u=Object(r.useReducer)(q,"Pomodoro"),s=Object(i.a)(u,2),m=s[0],d=s[1],g=Object(r.useState)(""),f=Object(i.a)(g,2),p=f[0],b=f[1];return""===p&&t&&t.length>0&&b(t[0]._id),n.a.createElement("div",{className:"timer-display-wrapper"},n.a.createElement(j.a,null),n.a.createElement("h4",null,"Timers:"),n.a.createElement("div",{className:"timer-content-wrapper"},n.a.createElement("div",null,n.a.createElement("img",{"data-tip":"Pomodoro","data-place":"right",className:"icon",onClick:function(){return d({type:"Pomodoro"})},style:{height:"20px",width:"20px"},src:a(65),alt:"Tomato icon. On click leads to Pomodoro Timer."}),n.a.createElement(U.a,{"data-tip":"Stopwatch","data-place":"right",className:"icon",onClick:function(){return d({type:"Stopwatch"})}})),n.a.createElement("div",{className:"timer-display"},n.a.createElement(W,{targets:t,selectedTimerTargetId:p,setSelectedTimerTargetId:b}),n.a.createElement("div",{className:"timer-current"},m),n.a.createElement(J,{selectedTimerTargetId:p,selectedTar:!0,setTargets:c,currentTarget:l,setCurrentTarget:o,timer:m}),n.a.createElement(R,{selectedTimerTargetId:p,setTargets:c,currentTarget:l,setCurrentTarget:o,timer:m}))))},V=a(31),z=a(39),Z=a.n(z),$=a(40),K=a.n($),Q={display:"flex",justifyContent:"space-between"};var X=function(e){var t=e.setTargets,a=e._id,c=e.title,l=e.notes,o=e.weeklyTargetTime,m=Object(r.useState)(c),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(r.useState)(l),v=Object(i.a)(b,2),E=v[0],h=v[1],T=Object(r.useState)(o),y=Object(i.a)(T,2),O=y[0],C=y[1],k=Object(r.useState)(null),x=Object(i.a)(k,2),N=x[0],I=x[1],M=null;!0===N?M=n.a.createElement("div",{style:{color:"green"}},"Target Successfully altered."):!1===N&&(M=n.a.createElement("div",{style:{color:"red"}},"Failed to alter Target."));var F=function(){var e=Object(s.a)(u.a.mark((function e(r){var n,c,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n="/api/targets/"+a,c=JSON.stringify({title:f,notes:E,weeklyTargetTime:O}),l={method:"PUT",headers:{"Content-Type":"application/json"},body:c},e.next=6,g(n,l);case 6:o=e.sent,console.log("Edit Target response :>> ",o),o.success?(I(!0),t((function(e){return e.map((function(e){return e._id===a?o.target:e}))}))):I(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(u.a.mark((function e(){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/targets/"+a,n={method:"DELETE"},e.next=4,g(r,n);case 4:c=e.sent,console.log("Delete Target response :>> ",c),c.success?(I(!0),t((function(e){return e.filter((function(e){return e._id!==a}))}))):I(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=Object(r.useState)(!1),_=Object(i.a)(P,2),U=_[0],H=_[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,null),n.a.createElement(Z.a,{className:"icon","data-tip":"Edit Target","data-place":"right",onClick:function(){return H(!0)},fontSize:"small"}),n.a.createElement(w.a,{show:U,onHide:function(){p(c),h(l),C(o),H(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Target View")),n.a.createElement(S.a,{onSubmit:F},n.a.createElement(w.a.Body,null,n.a.createElement(S.a.Group,{controlId:"formTargetTitle"},n.a.createElement(S.a.Label,null,"Title"),n.a.createElement(S.a.Control,{type:"text",defaultValue:f,onChange:function(e){return p(e.target.value)}}),n.a.createElement(S.a.Text,{className:"text-muted"},"*required")),n.a.createElement(S.a.Group,{controlId:"formTargetNotes"},n.a.createElement(S.a.Label,null,"Notes"),n.a.createElement(S.a.Control,{as:"textarea",rows:"3",defaultValue:E,onChange:function(e){return h(e.target.value)}})),n.a.createElement(S.a.Group,{controlId:"formWeeklyTargetTime"},n.a.createElement(S.a.Label,null,"Weekly Target Time (hrs)"),n.a.createElement(S.a.Control,{type:"number",defaultValue:O,onChange:function(e){return C(e.target.value)}}),n.a.createElement(S.a.Text,{className:"text-muted"},"*required. Must be \u2265 0"))),n.a.createElement(w.a.Footer,{style:Q},n.a.createElement(j.a,null),n.a.createElement(D.a,{variant:"danger","data-tip":"Delete Target Forever","data-place":"bottom",onClick:L},n.a.createElement(K.a,null)),M,n.a.createElement(D.a,{variant:"primary",type:"submit"},"Save Changes")))))},ee=a(41),te=a.n(ee);var ae=function(e){e.targets;var t=e.setTargets,a=e.setCurrentTarget,c=Object(r.useContext)(v).loggedIn,l=Object(r.useState)(""),o=Object(i.a)(l,2),m=o[0],d=o[1],f=Object(r.useState)(""),p=Object(i.a)(f,2),b=p[0],E=p[1],h=Object(r.useState)(null),T=Object(i.a)(h,2),y=T[0],O=T[1],j=Object(r.useState)(null),C=Object(i.a)(j,2),k=C[0],x=C[1],N=null;!0===k?N=n.a.createElement("div",{style:{color:"green"}},"Target Created Successfully"):!1===k&&(N=n.a.createElement("div",{style:{color:"red"}},"Failed to create target. Title and Weekly Target Time are required."));var I=function(){var e=Object(s.a)(u.a.mark((function e(r){var n,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),"/api/targets",n=JSON.stringify({title:m,notes:b,weeklyTargetTime:y}),c={method:"POST",headers:{"Content-Type":"application/json"},body:n},e.next=6,g("/api/targets",c);case 6:l=e.sent,console.log("Create Target response :>> ",l),l.success?(x(!0),t((function(e){var t=e.map((function(e){return e}));return t.push(l.target),0===e.length&&a(t[0]),t}))):x(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(r.useState)(!1),F=Object(i.a)(M,2),L=F[0],P=F[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(te.a,{"data-tip":"Add Target","data-place":"right",onClick:function(){c?P(!0):(console.log("bruh :>>"),alert("Please Login First"))},className:"icon"}),n.a.createElement(w.a,{show:L,onHide:function(){x(!1),P(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Create Target")),n.a.createElement(S.a,{onSubmit:I},n.a.createElement(w.a.Body,null,n.a.createElement(S.a.Group,{controlId:"formTargetTitle"},n.a.createElement(S.a.Label,null,"Title"),n.a.createElement(S.a.Control,{placeholder:"Name of Target",required:!0,type:"text",defaultValue:m,onChange:function(e){return d(e.target.value)}}),n.a.createElement(S.a.Text,{className:"text-muted"},"*required")),n.a.createElement(S.a.Group,{controlId:"formTargetNotes"},n.a.createElement(S.a.Label,null,"Notes"),n.a.createElement(S.a.Control,{placeholder:"Additional text about your target",as:"textarea",rows:"3",defaultValue:b,onChange:function(e){return E(e.target.value)}})),n.a.createElement(S.a.Group,{controlId:"formWeeklyTargetTime"},n.a.createElement(S.a.Label,null,"Weekly Target Time (hrs)"),n.a.createElement(S.a.Control,{placeholder:"i.e. 3",required:!0,type:"number",defaultValue:y,onChange:function(e){return O(e.target.value)}}),n.a.createElement(S.a.Text,{className:"text-muted"},"*required. Must be \u2265 0"))),n.a.createElement(w.a.Footer,null,N,n.a.createElement(D.a,{variant:"primary",type:"submit"},"Create")))))},re=function(e){var t=e.currentTarget,a=e.setCurrentTarget,c=e.targets,l=e.setTargets,o=Object(r.useState)(null),u=Object(i.a)(o,2),s=u[0],m=u[1],d=Object(r.useCallback)((function(e){for(var t=e.target.dataset.targetid,r=null,n=0;n<c.length;n++){var l=c[n];if(l._id===t){r=l;break}}a(r)}),[a,c]),g=Object(r.useCallback)((function(e){if(!e)return[];var a=e.map((function(e){var t=e._id,a=e.title,r=e.notes,c=e.weeklyTargetTime;return n.a.createElement(X,{setTargets:l,key:Object(C.a)(),_id:t,title:a,notes:r,weeklyTargetTime:c})})),r=0;if(t)for(var c=t._id,o=0;o<e.length;o++){if(c===e[o]._id){r=o;break}}return e.map((function(e,t){var a={key:Object(C.a)(),type:"radio",label:e.title,name:"targetRadios",id:"targetRadios-".concat(t+1),onClick:d};return t===r?n.a.createElement(S.a.Check,Object.assign({},a,{"data-targetid":e._id,defaultChecked:"true"})):n.a.createElement(S.a.Check,Object.assign({},a,{"data-targetid":e._id}))})).map((function(e,t){var r=a[t];return n.a.createElement("div",{key:Object(C.a)(),style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e,r)}))}),[d,l,t]);return Object(r.useEffect)((function(){m(g(c))}),[c,g]),n.a.createElement(S.a,null,n.a.createElement("fieldset",null,n.a.createElement(S.a.Group,null,n.a.createElement(S.a.Label,{as:"legend",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement("div",null,"Targets:"),n.a.createElement(ae,{targets:c,setTargets:l,setCurrentTarget:a})),n.a.createElement(V.a,{sm:15},s))))},ne=function(e){var t=e.currentTarget,a=e.setCurrentTarget,r=e.targets,c=e.setTargets;return n.a.createElement("aside",null,n.a.createElement("div",{className:"goals-wrapper"},n.a.createElement("div",null,"Active View: ",t?t.title:"None"),n.a.createElement(re,{currentTarget:t,setCurrentTarget:a,targets:r,setTargets:c})),n.a.createElement("hr",null),n.a.createElement(Y,{targets:r,setTargets:c,setCurrentTarget:a,currentTarget:t}))};a(66),a(67);var ce=function(){var e=Object(r.useContext)(v).setLoggedIn,t=Object(r.useState)("test"),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)("password"),m=Object(i.a)(o,2),d=m[0],f=m[1],p=Object(r.useState)(null),b=Object(i.a)(p,2),E=b[0],h=b[1],T=null;!0===E?T=n.a.createElement("div",{style:{color:"green"}},"Login Successful"):!1===E&&(T=n.a.createElement("div",{style:{color:"red"}},"Login Failed. Likely invalid username or password."));var y=Object(r.useState)(!1),O=Object(i.a)(y,2),j=O[0],C=O[1],k=function(){var t=Object(s.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/login",a=JSON.stringify({username:c,password:d}),r={method:"POST",headers:{"Content-Type":"application/json"},body:a},t.next=5,g("/api/login",r);case 5:t.sent.loggedIn?(h(!0),e(!0)):h(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(D.a,{variant:"primary",onClick:function(){return C(!0)}},"Login"),n.a.createElement(w.a,{show:j,onHide:function(){h(null),C(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Login")),n.a.createElement(w.a.Body,null,n.a.createElement(S.a,null,n.a.createElement(S.a.Group,{controlId:"login-form-username"},n.a.createElement(S.a.Label,null,"Username"),n.a.createElement(S.a.Control,{type:"text",value:c,onChange:function(e){l(e.target.value)}})),n.a.createElement(S.a.Group,{controlId:"login-form-password"},n.a.createElement(S.a.Label,null,"Password"),n.a.createElement(S.a.Control,{type:"text",value:d,onChange:function(e){f(e.target.value)}})))),n.a.createElement(w.a.Footer,null,T,n.a.createElement(D.a,{variant:"primary",onClick:k},"Login"))))};var le=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),o=Object(i.a)(l,2),m=o[0],d=o[1],f=Object(r.useState)(null),p=Object(i.a)(f,2),b=p[0],v=p[1],E=null;!0===b?E=n.a.createElement("div",{style:{color:"green"}},"Registration Successful"):!1===b&&(E=n.a.createElement("div",{style:{color:"red"}},"Registration Failed. Likely username is already taken."));var h=Object(r.useState)(!1),T=Object(i.a)(h,2),y=T[0],O=T[1],j=function(){var e=Object(s.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/register",t=JSON.stringify({username:a,password:m}),r={method:"POST",headers:{"Content-Type":"application/json"},body:t},e.next=5,g("/api/register",r);case 5:(n=e.sent).success?(console.log("Successfully Registered",n),v(!0)):v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(D.a,{variant:"secondary",onClick:function(){O(!0)}},"Register"),n.a.createElement(w.a,{show:y,onHide:function(){v(null),O(!1)},keyboard:!1,animation:!1},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Register")),n.a.createElement(w.a.Body,null,n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"register-form-username"},"Username:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",value:a,onChange:function(e){c(e.target.value)},id:"register-form-username"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"register-form-password"},"Password:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",value:m,onChange:function(e){d(e.target.value)},id:"register-form-password"})))),n.a.createElement(w.a.Footer,null,E,n.a.createElement(D.a,{variant:"primary",onClick:j},"Register"))))},oe=function(e){var t=e.setTargets,a=e.setCurrentTarget,c=Object(r.useContext)(v),l=c.loggedIn,o=c.setLoggedIn,i=function(){var e=Object(s.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/logout",r={method:"POST"},e.next=5,g("/api/logout",r);case 5:e.sent.success?(t(null),a(null),o(!1)):alert("Logout Failed"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",null,l?n.a.createElement(D.a,{variant:"secondary",onClick:i},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(ce,null),n.a.createElement(le,null)))},ue=function(){var e=Object(r.useContext)(v).loggedIn,t=Object(r.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)(null),m=Object(i.a)(o,2),d=m[0],f=m[1];Object(r.useEffect)((function(){(function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return"/api/targets",t.next=4,g("/api/targets");case 4:(a=t.sent).success?(l(a.targets),a.targets.length>0&&f(a.targets[0])):alert("Unable to retrieve Targets of the User.");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,l]);var b=new Date;b.setDate(1);var E=Object(r.useState)(b),h=Object(i.a)(E,2),y=h[0],C=h[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,null),n.a.createElement("main",null,n.a.createElement("header",null,n.a.createElement("div",{className:"logo"},"Track."),n.a.createElement("div",{className:"month-view-header"},n.a.createElement("div",{className:"month-year-header"},function(e){var t;switch(e){case 1:t="January";break;case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December";break;default:t=void 0}return t}(y.getMonth()+1)," ",y.getFullYear()),n.a.createElement("div",null,n.a.createElement(T.a,{"data-tip":"Previous Month","data-place":"bottom",className:"icon",onClick:function(e){C(new Date(y.getFullYear(),y.getMonth()-1,1))}}),n.a.createElement(O.a,{"data-tip":"Next Month","data-place":"bottom",className:"icon",onClick:function(e){C(new Date(y.getFullYear(),y.getMonth()+1,1))}})),n.a.createElement("div",null,n.a.createElement(D.a,{variant:"outline-dark",onClick:function(){return C(b)}},"Today")),n.a.createElement("div",null,n.a.createElement(oe,{setCurrentTarget:f,setTargets:l})))),n.a.createElement(ne,{currentTarget:d,setCurrentTarget:f,targets:c,setTargets:l}),n.a.createElement(L,{currentTarget:d,setCurrentTarget:f,date:y,viewedMonth:p(y),setTargets:l})))};var se=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(E,null,n.a.createElement(ue,null)))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(se,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.dac283ad.chunk.js.map