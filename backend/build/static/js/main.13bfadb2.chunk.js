(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,a){e.exports=a(69)},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},65:function(e,t,a){e.exports=a.p+"static/media/tomato.d2e94b4c.svg"},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(50),a(51),a(7)),s=a.n(o),u=a(8),i=a(3);function m(e){var t=new Date(e);return t.setUTCDate(t.getUTCDate()-t.getUTCDay()),t.setUTCHours(0,0,0,0),t}function d(e){var t=function(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()]}(e),a=Object(i.a)(t,3),n=a[0],r=a[1],l=a[2],c=new Date;return c.setUTCFullYear(n),c.setUTCMonth(r-1),c.setUTCDate(l),c.setUTCHours(0,0,0,0),c}function g(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(s.a.mark((function e(t){var a,n,r,l,c,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,n={credentials:"include"},r=Object.assign(n,a),e.next=6,fetch(t,r);case 6:return l=e.sent,e.next=9,l.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function p(e){return e.getMonth()+1}var b=function(e,t){var a=Object(n.useState)(null),r=Object(i.a)(a,2),l=r[0],c=r[1],o=Object(n.useState)(!0),m=Object(i.a)(o,2),d=m[0],g=m[1];return Object(n.useEffect)((function(){var a=new AbortController,n={credentials:"include",signal:a.signal},r=Object.assign(n,t);return function(){var t=Object(u.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,r);case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,c(n),g(!1),console.log("Data Received:",n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}()(e),function(){console.log("Aborting!"),a.abort()}}),[e,t]),{data:l,loading:d}},v=Object(n.createContext)(),E=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1],o=b("/api/loggedIn"),s=o.data,u=o.loading;return Object(n.useEffect)((function(){!u&&s.loggedIn&&(console.log("Auth Context Auto Login:",s,u),c(!0))}),[s,u]),r.a.createElement(v.Provider,{value:{loggedIn:l,setLoggedIn:c}},e.children)},h=a(42),T=a.n(h),y=a(43),O=a.n(y),j=a(16),C=a(86),k=a(29),w=(a(55),a(56),a(84)),S=a(85),x=a(82),D=a(87);var N=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],c=a[1],o=r.a.createElement(S.a.Control,{type:"text",value:l,onChange:function(e){var t;(""===(t=e.target.value)||/^[1-9]\d*$/.test(t))&&c(e.target.value)},placeholder:e.placeholder});return[Number.parseInt(l),o]};var I=function(e){var t=e.targetId,a=e.setTargets,l=e.setCurrentTarget,c=e.inputDate,o=N({label:"Add Time (min)",name:"add-amount",placeholder:"Add/Subtract Time (min)"}),m=Object(i.a)(o,2),d=m[0],f=m[1],p=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,o,u,i,m,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=""+"/api/days/".concat(t),o=60*d,"sub-day-btn"===n.target.id&&(o*=-1,console.log("Subtract")),u=JSON.stringify({inputDate:c.getTime(),workTime:o,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),i={method:"POST",headers:{"Content-Type":"application/json"},body:u},e.next=7,g(r,i);case 7:m=e.sent,console.log("DayEditModal response :>> ",m),m.success&&(f=m.target,a((function(e){var t=f._id;return e.map((function(e){return t===e._id?f:e}))})),l(f));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(n.useState)(!1),v=Object(i.a)(b,2),E=v[0],h=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"0",height:"100%"},onClick:function(){h(!0)}},e.children),r.a.createElement(w.a,{show:E,onHide:function(){return h(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Change Time: ",c.toLocaleDateString())),r.a.createElement(w.a.Body,null,r.a.createElement("h6",null,"Missed some time? Edit Your Time Here"),r.a.createElement(S.a,null,r.a.createElement(x.a,null,f,r.a.createElement(x.a.Append,null,r.a.createElement(D.a,{style:{width:"50%"},id:"add-day-btn",variant:"outline-secondary",onClick:p},"+"),r.a.createElement(D.a,{style:{width:"50%"},id:"sub-day-btn",variant:"outline-secondary",onClick:p},"-"))))),r.a.createElement(w.a.Footer,null,r.a.createElement(D.a,{onClick:p},"Confirm"))))},M=function(e){var t=e.currentTarget,a=e.setCurrentTarget,l=e.setTargets,c=e.workDay,o=e.day,s=e.inMonth,u=Object(n.useContext)(v).loggedIn,i=Object(n.useRef)(null),m=Object(n.useRef)(null),d={};s||(d.color="silver");return Object(n.useEffect)((function(){if(c&&u){var e=i.current.clientHeight,t=(1.4/28800*c.workTime+.4)*e,a=Math.floor(t/2);t+="px",a=-1*a+"px",m.current.style.height=t,m.current.style.width=t,m.current.style.bottom=a,m.current.style.left=a}})),r.a.createElement("td",{className:"day-cell",ref:i,style:Object(k.a)(Object(k.a)({},d),{},{position:"relative",overflow:"hidden"})},r.a.createElement(I,{setTargets:l,targetId:t?t._id:null,setCurrentTarget:a,inputDate:o},r.a.createElement("div",{className:"day",style:{height:"100%",width:"100%"}},r.a.createElement("div",{className:"day-date-header"},o.getDate()),c&&u?r.a.createElement("div",null,function(e){var t=function(e){return Math.floor(e/60)}(e);if(t<60)return"".concat(t," min");var a=Math.floor(t/60),n=(a+a%60/60).toFixed(1);"0"===n[n.length-1]&&(n=n.substr(0,n.length-2));return"".concat(n," hrs")}(c.workTime)):null)),c&&u?r.a.createElement("div",{className:"pulsing-circle",ref:m,style:{height:0,width:0,bottom:0,left:0}}):null)};a(58);var F=function(e){var t=e.setTargets,a=e.currentTarget,l=e.setCurrentTarget,c=e.workWeek,o=e.sunday,s=e.viewedMonth,u=e.weeksToDisplay,i=e.isCompleted,m=Object(n.useContext)(v).loggedIn,d={height:100/u+"%"};i&&m&&(d.borderLeft="5px solid rgba(226, 194, 255, 1)",d.backgroundColor="#A1F7E9",d.backgroundColor="rgba(161, 247, 233, 0.5)",d.zIndex="10");for(var g=[],f=new Date(o),b=0;b<7;b++)g.push(new Date(f)),f.setDate(f.getDate()+1);var E=g.map((function(e){var n={inMonth:!1,workDay:null};if(p(e)===s&&(n.inMonth=!0),c)for(var o=c.days.map((function(e){return new Date(e.date)})),u=0;u<o.length;u++){var i=o[u],m=i.getUTCFullYear()===e.getFullYear(),d=i.getUTCMonth()===e.getMonth(),g=i.getUTCDate()===e.getDate();if(m&&d&&g){n.workDay=c.days[u];break}}return r.a.createElement(M,Object.assign({setTargets:t,currentTarget:a,setCurrentTarget:l,day:e,key:Object(C.a)()},n))}));return r.a.createElement("tr",{className:"week",style:d},E)},L=(a(59),function(e){var t=e.setTargets,a=e.currentTarget,l=e.setCurrentTarget,c=e.date,o=e.viewedMonth,s=Object(n.useState)([]),u=Object(i.a)(s,2),g=u[0],f=u[1];Object(n.useEffect)((function(){if(a){var e=a.weeks.map((function(e){return e.days[0].date}));console.log("currentTarget.weeks Dates :>> ",e);var t=a.weeks,n=P(c),r=function(e,t,a){for(var n=0,r=e.length;n<r;){var l=n+r>>1;a(e[l],t)?n=l+1:r=l}return n}(t,n=d(n),(function(e,t){return m(e.days[0].date)<t}));if(r>=t.length)return void f([]);var l=[],o=r,s=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(s.setDate(s.getDate()+42),0!==(s=m(d(s))).getUTCDay())throw Error("Critical Error: lastSundayNormalized is not a Sunday");for(;o<t.length;){var u=m(t[o].days[0].date);if(!(u>=n)||!(u<=s))break;l.push(t[o]),o++}if(l.length>6)throw Error("Critical Error: More work weeks are considered are view than is allowed.");f(l)}}),[a,c]);for(var p=[],b=P(c),v=0;v<6;v++){p.push(b);var E=new Date(b);E.setDate(E.getDate()+7),b=E}for(var h=[],T=0,y=0;y<p.length;y++){var O=p[y],j={key:Object(C.a)(),sunday:O,viewedMonth:o,weeksToDisplay:6,setTargets:t,currentTarget:a,setCurrentTarget:l};if(T<g.length){var k=g[T],w=m(new Date(k.days[0].date)),S=d(O);if(w.getTime()===S.getTime()){var x=60*k.weeklyTargetTime*60,D=!1;k.days.reduce((function(e,t){return e+t.workTime}),0)>x&&(D=!0),h.push(r.a.createElement(F,Object.assign({workWeek:k},j,{isCompleted:D}))),T++}else h.push(r.a.createElement(F,j))}else h.push(r.a.createElement(F,j))}return r.a.createElement("table",{className:"calendar"},r.a.createElement("thead",{className:"calendar-header"},r.a.createElement("tr",{className:"day-names"},r.a.createElement("th",{className:"day-name"},"Sun"),r.a.createElement("th",{className:"day-name"},"Mon"),r.a.createElement("th",{className:"day-name"},"Tue"),r.a.createElement("th",{className:"day-name"},"Wed"),r.a.createElement("th",{className:"day-name"},"Thu"),r.a.createElement("th",{className:"day-name"},"Fri"),r.a.createElement("th",{className:"day-name"},"Sat"))),r.a.createElement("tbody",{className:"weeks"},h))});function P(e){var t=new Date(e);return t.setDate(t.getDate()-t.getDay()),t.setHours(0,0,0,0),t}a(60);var _=a(38),R=a.n(_),U=(a(61),a(83)),H=function(e){var t=e.setTargets,a=e.currentTarget,l=e.setCurrentTarget,c=e.timer,o=(e.selectedTimerTargetId,{display:"none"});"Stopwatch"===c&&(o={display:"block"});var m=Object(n.useState)(0),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(n.useState)(!1),v=Object(i.a)(b,2),E=v[0],h=v[1],T=function(){p((function(e){return e+1}))};Object(n.useEffect)((function(){var e;return E&&(e=setInterval(T,100)),function(){clearInterval(e)}}),[E]);var y=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r,c,o,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}return n="/api/days/"+a._id,r=Math.floor(f/10),c=JSON.stringify({inputDate:Date.now(),workTime:r,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),o={method:"POST",headers:{"Content-Type":"application/json"},body:c},e.next=7,g(n,o);case 7:(u=e.sent).success?(i=u.target,t((function(e){return e.map((function(e){return e._id===i._id?i:e}))})),l(i)):alert("The server was unable to process your request."),e.next=12;break;case 11:alert("A Target must be selected from the dropdown.");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:o},r.a.createElement("div",null,"Time: ",function(){var e=Math.floor(f/10),t=Math.floor(e%60),a=e/60,n=Math.floor(a%60),r=Math.floor(a/60);return 0===r?(t<10&&(t="0"+t),"".concat(n,":").concat(t)):(t<10&&(t="0"+t),n<10&&(n="0"+n),"".concat(r,":").concat(n,":").concat(t))}()),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){h(!E)}},E?"Stop":"Start"),r.a.createElement(D.a,{variant:"secondary",onClick:function(){h(!1),p(0)}},"Reset"),r.a.createElement(D.a,{variant:"primary",onClick:y},"Log"))))},A=a(36),B=a.n(A);var G=function(e){var t=e.setStartingWorkCentiseconds,a=e.setStartingRestCentiseconds,l=N({placeholder:"i.e. 25"}),c=Object(i.a)(l,2),o=c[0],s=c[1],u=N({placeholder:"i.e. 5"}),m=Object(i.a)(u,2),d=m[0],g=m[1],f=Object(n.useState)(!1),p=Object(i.a)(f,2),b=p[0],v=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{"data-tip":"Customize Intervals","data-place":"right",className:"icon",onClick:function(){v(!0)}}),r.a.createElement(w.a,{show:b,onHide:function(){return v(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Customize Pomodoro Intervals")),r.a.createElement(w.a.Body,null,r.a.createElement(S.a,{className:"custom-pomodoro-form"},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Work Time (minutes)"),s),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Rest Time (minutes)"),g))),r.a.createElement(w.a.Footer,null,r.a.createElement(D.a,{onClick:function(){var e;e=""===d||d<=0||d>1440?3e3:60*d*10,t(""===o||o<=0||o>1440?15e3:60*o*10),a(e)}},"Confirm"))))},J=function(e){var t=e.setTargets,a=e.currentTarget,l=e.setCurrentTarget,c=e.timer,o=e.selectedTimerTargetId,m={display:"none"};"Pomodoro"===c&&(m={display:"block"});var d=Object(n.useState)(50),f=Object(i.a)(d,2),p=f[0],b=f[1],v=Object(n.useState)(30),E=Object(i.a)(v,2),h=E[0],T=E[1],y=Object(n.useState)(p),O=Object(i.a)(y,2),j=O[0],C=O[1],k=Object(n.useState)(!1),w=Object(i.a)(k,2),S=w[0],x=w[1],N=Object(n.useState)(!0),I=Object(i.a)(N,2),M=I[0],F=I[1],L=function(){C((function(e){return e-1}))};Object(n.useEffect)((function(){0===j&&(M?(function(){var e=Object(u.a)(s.a.mark((function e(){var a,n,r,c,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=9;break}return a="/api/days/"+o,n=Math.floor(p/10),r=JSON.stringify({inputDate:Date.now(),workTime:n,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),c={method:"POST",headers:{"Content-Type":"application/json"},body:r},e.next=7,g(a,c);case 7:(u=e.sent).success?(i=u.target,t((function(e){return e.map((function(e){return e._id===i._id?i:e}))})),l(i)):alert("The server was unable to process your request.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),C(h)):C(p),F(!M),x(!1))}),[j,M,h,p,t,a,l,o]),Object(n.useEffect)((function(){var e;return S&&(e=setInterval(L,100)),function(){clearInterval(e)}}),[S]);var P=Object(n.useCallback)((function(){x(!1),F(!0),C(p)}),[p]);return Object(n.useEffect)((function(){P()}),[h,p,P]),r.a.createElement("div",{style:m},r.a.createElement("div",null,r.a.createElement("div",null,"Mode: ",M?"Work \ud83c\udf5e":"Rest \u2615"),r.a.createElement("div",null,function(){var e=Math.floor(j/10),t=Math.floor(e%60),a=e/60,n=Math.floor(a%60),r=Math.floor(a/60);return 0===r?(t<10&&(t="0"+t),"".concat(n,":").concat(t)):(t<10&&(t="0"+t),n<10&&(n="0"+n),"".concat(r,":").concat(n,":").concat(t))}())),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(D.a,{onClick:function(){x((function(e){return!e}))},value:S?"Stop":"Start"},S?"Stop":"Start"),r.a.createElement(D.a,{onClick:P},"Reset"))),r.a.createElement(G,{setStartingWorkCentiseconds:b,setStartingRestCentiseconds:T}))},W=function(e){var t=e.targets,a=e.selectedTimerTargetId,l=e.setSelectedTimerTargetId,c=Object(n.useContext)(v).loggedIn,o=Object(n.useState)([]),s=Object(i.a)(o,2),u=s[0],m=s[1];Object(n.useEffect)((function(){if(t){var e=t.map((function(e){return r.a.createElement("option",{key:Object(C.a)(),value:e._id},e.title)}));m(e)}}),[t]);return t?r.a.createElement(S.a.Group,{controlId:"target-timer-select"},r.a.createElement(S.a.Control,{as:"select",onChange:function(e){console.log("Change"),l(e.target.value)},value:a},u)):c?r.a.createElement("div",null,"Loading..."):""},q=function(e,t){switch(t.type){case"Pomodoro":return"Pomodoro";case"Stopwatch":return"Stopwatch";default:throw new Error("Unrecognized Timer Type")}},Y=function(e){var t=e.targets,l=e.setTargets,c=e.currentTarget,o=e.setCurrentTarget,s=Object(n.useReducer)(q,"Pomodoro"),u=Object(i.a)(s,2),m=u[0],d=u[1],g=Object(n.useState)(""),f=Object(i.a)(g,2),p=f[0],b=f[1];return null===p&&t&&t.length>0&&b(t[0]._id),r.a.createElement("div",{className:"timer-display-wrapper"},r.a.createElement(j.a,null),r.a.createElement("h4",null,"Timers:"),r.a.createElement("div",{className:"timer-content-wrapper"},r.a.createElement("div",null,r.a.createElement("img",{"data-tip":"Pomodoro","data-place":"right",className:"icon",onClick:function(){return d({type:"Pomodoro"})},style:{height:"20px",width:"20px"},src:a(65),alt:"Tomato icon. On click leads to Pomodoro Timer."}),r.a.createElement(R.a,{"data-tip":"Stopwatch","data-place":"right",className:"icon",onClick:function(){return d({type:"Stopwatch"})}})),r.a.createElement("div",{className:"timer-display"},r.a.createElement(W,{targets:t,selectedTimerTargetId:p,setSelectedTimerTargetId:b}),r.a.createElement("div",{className:"timer-current"},m),r.a.createElement(J,{selectedTimerTargetId:p,selectedTar:!0,setTargets:l,currentTarget:c,setCurrentTarget:o,timer:m}),r.a.createElement(H,{selectedTimerTargetId:p,setTargets:l,currentTarget:c,setCurrentTarget:o,timer:m}))))},V=a(31),z=a(39),Z=a.n(z),$=a(40),K=a.n($),Q={display:"flex",justifyContent:"space-between"};var X=function(e){var t=e.setTargets,a=e._id,l=e.title,c=e.notes,o=e.weeklyTargetTime,m=Object(n.useState)(l),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(n.useState)(c),v=Object(i.a)(b,2),E=v[0],h=v[1],T=Object(n.useState)(o),y=Object(i.a)(T,2),O=y[0],C=y[1],k=Object(n.useState)(null),x=Object(i.a)(k,2),N=x[0],I=x[1],M=null;!0===N?M=r.a.createElement("div",{style:{color:"green"}},"Target Successfully altered."):!1===N&&(M=r.a.createElement("div",{style:{color:"red"}},"Failed to alter Target."));var F=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,l,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r="/api/targets/"+a,l=JSON.stringify({title:f,notes:E,weeklyTargetTime:O}),c={method:"PUT",headers:{"Content-Type":"application/json"},body:l},e.next=6,g(r,c);case 6:o=e.sent,console.log("Edit Target response :>> ",o),o.success?(I(!0),t((function(e){return e.map((function(e){return e._id===a?o.target:e}))}))):I(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/targets/"+a,r={method:"DELETE"},e.next=4,g(n,r);case 4:l=e.sent,console.log("Delete Target response :>> ",l),l.success?(I(!0),t((function(e){return e.filter((function(e){return e._id!==a}))}))):I(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=Object(n.useState)(!1),_=Object(i.a)(P,2),R=_[0],U=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement(Z.a,{className:"icon","data-tip":"Edit Target","data-place":"right",onClick:function(){return U(!0)},fontSize:"small"}),r.a.createElement(w.a,{show:R,onHide:function(){p(l),h(c),C(o),U(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Target View")),r.a.createElement(S.a,{onSubmit:F},r.a.createElement(w.a.Body,null,r.a.createElement(S.a.Group,{controlId:"formTargetTitle"},r.a.createElement(S.a.Label,null,"Title"),r.a.createElement(S.a.Control,{type:"text",defaultValue:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement(S.a.Text,{className:"text-muted"},"*required")),r.a.createElement(S.a.Group,{controlId:"formTargetNotes"},r.a.createElement(S.a.Label,null,"Notes"),r.a.createElement(S.a.Control,{as:"textarea",rows:"3",defaultValue:E,onChange:function(e){return h(e.target.value)}})),r.a.createElement(S.a.Group,{controlId:"formWeeklyTargetTime"},r.a.createElement(S.a.Label,null,"Weekly Target Time (hrs)"),r.a.createElement(S.a.Control,{type:"number",defaultValue:O,onChange:function(e){return C(e.target.value)}}),r.a.createElement(S.a.Text,{className:"text-muted"},"*required. Must be \u2265 0"))),r.a.createElement(w.a.Footer,{style:Q},r.a.createElement(j.a,null),r.a.createElement(D.a,{variant:"danger","data-tip":"Delete Target Forever","data-place":"bottom",onClick:L},r.a.createElement(K.a,null)),M,r.a.createElement(D.a,{variant:"primary",type:"submit"},"Save Changes")))))},ee=a(41),te=a.n(ee);var ae=function(e){var t=e.setTargets,a=Object(n.useContext)(v).loggedIn,l=Object(n.useState)(""),c=Object(i.a)(l,2),o=c[0],m=c[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),p=f[0],b=f[1],E=Object(n.useState)(null),h=Object(i.a)(E,2),T=h[0],y=h[1],O=Object(n.useState)(null),j=Object(i.a)(O,2),C=j[0],k=j[1],x=null;!0===C?x=r.a.createElement("div",{style:{color:"green"}},"Target Created Successfully"):!1===C&&(x=r.a.createElement("div",{style:{color:"red"}},"Failed to create target. Title and Weekly Target Time are required."));var N=function(){var e=Object(u.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),"/api/targets",n=JSON.stringify({title:o,notes:p,weeklyTargetTime:T}),r={method:"POST",headers:{"Content-Type":"application/json"},body:n},e.next=6,g("/api/targets",r);case 6:l=e.sent,console.log("Create Target response :>> ",l),l.success?(k(!0),t((function(e){var t=e.map((function(e){return e}));return t.push(l.target),t}))):k(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(n.useState)(!1),M=Object(i.a)(I,2),F=M[0],L=M[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{"data-tip":"Add Target","data-place":"right",onClick:function(){a?L(!0):(console.log("bruh :>>"),alert("Please Login First"))},className:"icon"}),r.a.createElement(w.a,{show:F,onHide:function(){k(!1),L(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Create Target")),r.a.createElement(S.a,{onSubmit:N},r.a.createElement(w.a.Body,null,r.a.createElement(S.a.Group,{controlId:"formTargetTitle"},r.a.createElement(S.a.Label,null,"Title"),r.a.createElement(S.a.Control,{placeholder:"Name of Target",required:!0,type:"text",defaultValue:o,onChange:function(e){return m(e.target.value)}}),r.a.createElement(S.a.Text,{className:"text-muted"},"*required")),r.a.createElement(S.a.Group,{controlId:"formTargetNotes"},r.a.createElement(S.a.Label,null,"Notes"),r.a.createElement(S.a.Control,{placeholder:"Additional text about your target",as:"textarea",rows:"3",defaultValue:p,onChange:function(e){return b(e.target.value)}})),r.a.createElement(S.a.Group,{controlId:"formWeeklyTargetTime"},r.a.createElement(S.a.Label,null,"Weekly Target Time (hrs)"),r.a.createElement(S.a.Control,{placeholder:"i.e. 3",required:!0,type:"number",defaultValue:T,onChange:function(e){return y(e.target.value)}}),r.a.createElement(S.a.Text,{className:"text-muted"},"*required. Must be \u2265 0"))),r.a.createElement(w.a.Footer,null,x,r.a.createElement(D.a,{variant:"primary",type:"submit"},"Create")))))},ne=function(e){var t=e.currentTarget,a=e.setCurrentTarget,l=e.targets,c=e.setTargets,o=Object(n.useState)(null),s=Object(i.a)(o,2),u=s[0],m=s[1],d=Object(n.useCallback)((function(e){for(var t=e.target.dataset.targetid,n=null,r=0;r<l.length;r++){var c=l[r];if(c._id===t){n=c;break}}a(n)}),[a,l]),g=Object(n.useCallback)((function(e){if(!e)return[];var a=e.map((function(e){var t=e._id,a=e.title,n=e.notes,l=e.weeklyTargetTime;return r.a.createElement(X,{setTargets:c,key:Object(C.a)(),_id:t,title:a,notes:n,weeklyTargetTime:l})})),n=0;if(t)for(var l=t._id,o=0;o<e.length;o++){if(l===e[o]._id){n=o;break}}return e.map((function(e,t){var a={key:Object(C.a)(),type:"radio",label:e.title,name:"targetRadios",id:"targetRadios-".concat(t+1),onClick:d};return t===n?r.a.createElement(S.a.Check,Object.assign({},a,{"data-targetid":e._id,defaultChecked:"true"})):r.a.createElement(S.a.Check,Object.assign({},a,{"data-targetid":e._id}))})).map((function(e,t){var n=a[t];return r.a.createElement("div",{key:Object(C.a)(),style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e,n)}))}),[d,c,t]);return Object(n.useEffect)((function(){m(g(l))}),[l,g]),r.a.createElement(S.a,null,r.a.createElement("fieldset",null,r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{as:"legend",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",null,"Targets:"),r.a.createElement(ae,{setTargets:c})),r.a.createElement(V.a,{sm:15},u))))},re=function(e){var t=e.currentTarget,a=e.setCurrentTarget,n=e.targets,l=e.setTargets;return r.a.createElement("aside",null,r.a.createElement("div",{className:"goals-wrapper"},r.a.createElement("div",null,"Active View: ",t?t.title:"None"),r.a.createElement(ne,{currentTarget:t,setCurrentTarget:a,targets:n,setTargets:l})),r.a.createElement("hr",null),r.a.createElement(Y,{targets:n,setTargets:l,setCurrentTarget:a,currentTarget:t}))};a(66),a(67);var le=function(){var e=Object(n.useContext)(v).setLoggedIn,t=Object(n.useState)("test"),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("password"),m=Object(i.a)(o,2),d=m[0],f=m[1],p=Object(n.useState)(null),b=Object(i.a)(p,2),E=b[0],h=b[1],T=null;!0===E?T=r.a.createElement("div",{style:{color:"green"}},"Login Successful"):!1===E&&(T=r.a.createElement("div",{style:{color:"red"}},"Login Failed. Likely invalid username or password."));var y=Object(n.useState)(!1),O=Object(i.a)(y,2),j=O[0],C=O[1],k=function(){var t=Object(u.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/login",a=JSON.stringify({username:l,password:d}),n={method:"POST",headers:{"Content-Type":"application/json"},body:a},t.next=5,g("/api/login",n);case 5:t.sent.loggedIn?(h(!0),e(!0)):h(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{variant:"primary",onClick:function(){return C(!0)}},"Login"),r.a.createElement(w.a,{show:j,onHide:function(){h(null),C(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Login")),r.a.createElement(w.a.Body,null,r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{controlId:"login-form-username"},r.a.createElement(S.a.Label,null,"Username"),r.a.createElement(S.a.Control,{type:"text",value:l,onChange:function(e){c(e.target.value)}})),r.a.createElement(S.a.Group,{controlId:"login-form-password"},r.a.createElement(S.a.Label,null,"Password"),r.a.createElement(S.a.Control,{type:"text",value:d,onChange:function(e){f(e.target.value)}})))),r.a.createElement(w.a.Footer,null,T,r.a.createElement(D.a,{variant:"primary",onClick:k},"Login"))))};var ce=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),m=o[0],d=o[1],f=Object(n.useState)(null),p=Object(i.a)(f,2),b=p[0],v=p[1],E=null;!0===b?E=r.a.createElement("div",{style:{color:"green"}},"Registration Successful"):!1===b&&(E=r.a.createElement("div",{style:{color:"red"}},"Registration Failed. Likely username is already taken."));var h=Object(n.useState)(!1),T=Object(i.a)(h,2),y=T[0],O=T[1],j=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/register",t=JSON.stringify({username:a,password:m}),n={method:"POST",headers:{"Content-Type":"application/json"},body:t},e.next=5,g("/api/register",n);case 5:(r=e.sent).success?(console.log("Successfully Registered",r),v(!0)):v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){O(!0)}},"Register"),r.a.createElement(w.a,{show:y,onHide:function(){v(null),O(!1)},keyboard:!1,animation:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Register")),r.a.createElement(w.a.Body,null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"register-form-username"},"Username:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:a,onChange:function(e){l(e.target.value)},id:"register-form-username"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"register-form-password"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:m,onChange:function(e){d(e.target.value)},id:"register-form-password"})))),r.a.createElement(w.a.Footer,null,E,r.a.createElement(D.a,{variant:"primary",onClick:j},"Register"))))},oe=function(e){var t=e.setTargets,a=e.setCurrentTarget,l=Object(n.useContext)(v),c=l.loggedIn,o=l.setLoggedIn,i=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/logout",n={method:"POST"},e.next=5,g("/api/logout",n);case 5:e.sent.success?(t(null),a(null),o(!1)):alert("Logout Failed"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,c?r.a.createElement(D.a,{variant:"secondary",onClick:i},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null),r.a.createElement(ce,null)))},se=function(){var e=Object(n.useContext)(v).loggedIn,t=Object(n.useState)(null),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),m=Object(i.a)(o,2),d=m[0],f=m[1];Object(n.useEffect)((function(){(function(){var t=Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return"/api/targets",t.next=4,g("/api/targets");case 4:a=t.sent,console.log("Layout Component - Retrieve All Targets :>> ",a),a.success?(c(a.targets),a.targets.length>0&&f(a.targets[0])):alert("Unable to retrieve Targets of the User.");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,c]);var b=new Date;b.setDate(1);var E=Object(n.useState)(b),h=Object(i.a)(E,2),y=h[0],C=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},"Track."),r.a.createElement("div",{className:"month-view-header"},r.a.createElement("div",{className:"month-year-header"},function(e){var t;switch(e){case 1:t="January";break;case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December";break;default:t=void 0}return t}(y.getMonth()+1)," ",y.getFullYear()),r.a.createElement("div",null,r.a.createElement(T.a,{"data-tip":"Previous Month","data-place":"bottom",className:"icon",onClick:function(e){C(new Date(y.getFullYear(),y.getMonth()-1,1))}}),r.a.createElement(O.a,{"data-tip":"Next Month","data-place":"bottom",className:"icon",onClick:function(e){C(new Date(y.getFullYear(),y.getMonth()+1,1))}})),r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outline-dark",onClick:function(){return C(b)}},"Today")),r.a.createElement("div",null,r.a.createElement(oe,{setCurrentTarget:f,setTargets:c})))),r.a.createElement(re,{currentTarget:d,setCurrentTarget:f,targets:l,setTargets:c}),r.a.createElement(L,{currentTarget:d,setCurrentTarget:f,date:y,viewedMonth:p(y),setTargets:c})))};console.log("bruh o boy");var ue=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null,r.a.createElement(se,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.13bfadb2.chunk.js.map